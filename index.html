<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aaron's Portfolio</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #121212;
            color: #e0e0e0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 800px;
            width: 100%;
            padding: 20px;
            background-color: #1e1e1e;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            text-align: center;
            margin: 20px;
        }

        h1,
        h2 {
            margin-bottom: 15px;
            color: #ffffff;
            transition: color 0.3s ease;
            position: relative;
            opacity: 0;
            animation: fadeInUp 1s forwards;
        }

        h1:hover,
        h2:hover {
            color: #bdbdbd;
        }

        .profile-container {
            position: relative;
            width: 100%;
            margin: 0 auto;
            text-align: center;
        }

        .avatar-container {
            position: relative;
            width: 120px;
            height: 120px;
            overflow: hidden;
            border-radius: 50%;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
            margin: 0 auto;
            display: inline-block;
            z-index: 2; /* Ensure avatar is above the namecard */
        }

        .avatar-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.6s ease;
        }

        .avatar-container:hover img {
            transform: scale(1.1) rotate(10deg);
        }

.namecard-container {
    display: none;
    width: 100%; /* Adjust width to align with avatar container width */
    height: auto; /* Allow height to be auto based on the width */
    padding-top: 20%; /* This is 256/1280 = 20%, to maintain aspect ratio */
    overflow: hidden;
    border-radius: 5px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    position: absolute;
    top: 5px; /* Allow overlap by positioning above avatar's bottom */
    left: 50%;
    transform: translate(-50%, 0);
    z-index: 1; /* Ensure namecard is below the avatar */
}

.namecard-container img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: contain; /* Maintain aspect ratio without cropping */
}


        .namecard-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        #logo {
            width: 60px;
            height: auto;
            margin-bottom: 10px;
            transition: transform 0.6s ease;
        }

        #logo:hover {
            transform: scale(1.2);
        }

        #randomFact {
            margin-top: 15px;
            color: #e0e0e0;
            opacity: 0;
            animation: fadeInUp 1s forwards;
        }

        #randomFact h2 {
            font-size: 1.5rem;
            font-weight: bold;
            color: #ffffff;
        }

        #randomFact p {
            font-size: 1rem;
            color: #bdbdbd;
        }

        .presence-container {
            margin-top: 15px;
            padding: 15px;
            background-color: transparent;
            box-shadow: none;
            opacity: 0;
            animation: fadeInUp 1s forwards;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        #discordActivity {
            text-align: center;
        }

        #discordActivityTitle {
            font-size: 1.5rem;
            font-weight: bold;
            color: #ffffff;
            margin-bottom: 15px;
        }

        #discordActivityImage {
            max-width: 120px;
            max-height: 120px;
            border-radius: 10px;
            margin: 10px 0;
            transition: transform 0.4s ease, opacity 0.4s ease;
        }

        #discordActivityImage:hover {
            transform: scale(1.2);
            opacity: 0.9;
        }

        #discordActivityName {
            font-size: 1rem;
            font-weight: normal;
            color: #ffffff;
            margin-bottom: 5px;
        }

        #discordActivityDetails {
            font-size: 0.9rem;
            color: #bdbdbd;
        }

        .social-icons {
            margin-top: 15px;
            opacity: 0;
            animation: fadeInUp 1s forwards;
        }

        .social-icons a {
            margin: 0 0.5rem;
            color: #e0e0e0;
            text-decoration: none;
            font-size: 1.2rem;
            transition: color 0.3s ease, transform 0.6s ease, box-shadow 0.6s ease;
        }

        .social-icons a:hover {
            color: #ffffff;
            transform: scale(1.3) rotate(-15deg);
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }

        .toggle-button {
            margin-top: 15px;
            padding: 10px 20px;
            background-color: #333;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .toggle-button:hover {
            background-color: #444;
        }

        @keyframes fadeInUp {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }

            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Aaron's Portfolio</h1>

        <!-- Logo positioned above Profile Picture -->
        <img id="logo" src="https://i.ibb.co/H43tt6y/2048px-LEGO-logo-svg.png" alt="Lego Logo">

        <!-- Profile Container with Profile Picture and Namecard -->
        <div class="profile-container">
            <div class="avatar-container">
                <img id="profilePicture" src="https://i.ibb.co/SsGZF4Z/Aaron-Minifig.png" alt="Profile Picture">
            </div>
            <div class="namecard-container">
                <img id="namecard" src="" alt="Overwatch Namecard">
            </div>
        </div>

        <!-- Toggle Button for Profile Picture -->
        <button class="toggle-button" onclick="toggleProfilePicture()">Switch Profile Picture</button>

        <!-- Discord Presence Section -->
        <div class="presence-container" id="presenceContainer">
            <h2 id="discordActivityTitle">Current Discord Activity</h2>
            <div id="discordActivity">
                <img id="discordActivityImage" src="" alt="">
                <p id="discordActivityName">Loading activity...</p>
                <p id="discordActivityDetails"></p>
            </div>
        </div>

        <div id="randomFact">
            <h2>Random Fact of the Day</h2>
            <p id="factText">Loading...</p>
        </div>

        <div class="social-icons">
            <a href="https://github.com/santabo" target="_blank"><i class="fab fa-github"></i></a>
        </div>
    </div>

    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <script>
        const customProfilePic = "https://i.ibb.co/SsGZF4Z/Aaron-Minifig.png";
        const legoLogo = "https://i.ibb.co/H43tt6y/2048px-LEGO-logo-svg.png";
        const overwatchLogo = "https://i.ibb.co/ZxNcF9B/ezgif-4-15af7686f5.png";
        let overwatchProfilePic = "";
        let usingCustomPic = true;

        const fetchRandomFact = async () => {
            try {
                const response = await fetch('https://uselessfacts.jsph.pl/api/v2/facts/today');
                if (!response.ok) {
                    throw new Error('Failed to fetch random fact');
                }
                const data = await response.json();
                const factText = data.text || 'No fact available today.';
                document.getElementById('factText').innerText = factText;
            } catch (error) {
                console.error('Error fetching random fact:', error);
                document.getElementById('factText').innerText = 'Could not load a fact. Please try again later.';
            }
        };
        fetchRandomFact();

        async function fetchOverwatchProfilePic() {
            try {
                const response = await fetch('https://overfast-api.tekrop.fr/players/Aarontendo-2585/summary');
                const data = await response.json();
                overwatchProfilePic = data.avatar;
                document.getElementById('namecard').src = data.namecard; // Update name card
            } catch (error) {
                console.error('Error fetching Overwatch profile picture:', error);
            }
        }
        fetchOverwatchProfilePic();

        async function fetchDiscordPresence() {
            try {
                const response = await fetch('https://api.lanyard.rest/v1/users/789872551731527690');
                const data = await response.json();

                if (data.success) {
                    const activity = data.data.activities[0];

                    if (activity) {
                        const activityName = activity.name || 'No activity detected';
                        const activityDetails = activity.details || '';

                        document.getElementById('discordActivityName').textContent = activityName;
                        document.getElementById('discordActivityDetails').textContent = activityDetails;

                        if (activity.assets && activity.assets.large_image) {
                            let imageUrl = '';

                            // Check if the image ID is in the old format
                            if (activity.assets.large_image.startsWith('mp:external/')) {
                                const parts = activity.assets.large_image.split('/https/');
                                if (parts.length === 2) {
                                    imageUrl = `https://${parts[1]}`;
                                } else {
                                    imageUrl = 'https://cdn.discordapp.com/app-assets/your_application_id/placeholder.png'; // Fallback URL
                                }
                            } else {
                                // Use the new format
                                const applicationId = activity.application_id;
                                const imageId = activity.assets.large_image;
                                imageUrl = `https://cdn.discordapp.com/app-assets/${applicationId}/${imageId}.png`;
                            }

                            document.getElementById('discordActivityImage').src = imageUrl;
                            document.getElementById('discordActivityImage').alt = activityName;
                        } else {
                            document.getElementById('discordActivityImage').src = "";
                            document.getElementById('discordActivityImage').alt = "No image available";
                        }
                    } else {
                        document.getElementById('discordActivityName').textContent = "No activity detected.";
                        document.getElementById('discordActivityDetails').textContent = "";
                        document.getElementById('discordActivityImage').src = "";
                    }
                } else {
                    document.getElementById('discordActivityName').textContent = "Failed to load activity.";
                    document.getElementById('discordActivityDetails').textContent = "";
                }
            } catch (error) {
                console.error('Error fetching Discord presence:', error);
                document.getElementById('discordActivityName').textContent = "Error loading activity.";
                document.getElementById('discordActivityDetails').textContent = "";
            }
        }
        fetchDiscordPresence();
        setInterval(fetchDiscordPresence, 5000); // Update every 5 seconds

        function toggleProfilePicture() {
            const profilePicElement = document.getElementById('profilePicture');
            const logoElement = document.getElementById('logo');
            const namecardElement = document.querySelector('.namecard-container');

            if (usingCustomPic) {
                profilePicElement.src = overwatchProfilePic;
                logoElement.src = overwatchLogo;
                namecardElement.style.display = 'block'; // Show namecard
            } else {
                profilePicElement.src = customProfilePic;
                logoElement.src = legoLogo;
                namecardElement.style.display = 'none'; // Hide namecard
            }
            usingCustomPic = !usingCustomPic;
        }
    </script>
</body>

</html>
